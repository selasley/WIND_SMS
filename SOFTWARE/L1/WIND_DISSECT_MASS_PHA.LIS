WIND_DISSECT_MASS_PHA                                           21-APR-1995 16:14:55    DEC Fortran V6.2-508                Page   1
                                                                26-JAN-1995 17:57:16    WIND_DISSECT_MASS_PHA.FOR;2

	      1       SUBROUTINE WIND_DISSECT_MASS_PHA( PHA,SECTOR,RANGE,ANODE,TIME_OF_FLIGHT )
	      2 C+
	      3 C 
	      4 C FUNCTIONAL DESCRIPTION:	
	      5 C 
	      6 C    This subroutine extracts the sector, range, anode, and time of flight
	      7 C    fields from a WIND MASS PHA word and returns each component to the caller
	      8 C    as an INTEGER*4 quantity.
	      9 C
	     10 C    NOTE: This routine only works for MASS PHA words.
	     11 C 
	     12 C FORMAL PARAMETERS:
	     13 C  
	     14 C     PHA:
	     15 C	  A BYTE array of length 2 containing the PHA word to be dissected.
	     16 C      
	     17 C     SECTOR:
	     18 C	  An INTEGER*4 variable which will receive the extracted sector field
	     19 C         of the PHA word.
	     20 C      
	     21 C     RANGE:
	     22 C	  An INTEGER*4 variable which will receive the extracted range field
	     23 C         of the PHA word.
	     24 C      
	     25 C     ANODE:
	     26 C	  An INTEGER*4 variable which will receive the extracted anode field
	     27 C         of the PHA word.
	     28 C      
	     29 C     TIME_OF_FLIGHT:
	     30 C	  An INTEGER*4 variable which will receive the extracted time of flight
	     31 C         field of the PHA word.
	     32 C      
	     33 C DESIGN:
	     34 C  
	     35 C     Use MVBITS to extract a bit field and store it into an INTEGER*4 variable.
	     36 C  
	     37 C A MASS PHA word is 16 bits long and is coded as follows:
	     38 C
	     39 C   MSB                                                         LSB
	     40 C    15  14  13  12  11  10   9   8   7   6   5   4   3   2   1   0
	     41 C     S   R   Anode  <-----          Time of Flight          ----->
	     42 C
	     43 C Where:
	     44 C  S = Sector  R = Range
	     45 C                                         
	     46 C This version:   17-JAN-1995
	     47 C 
	     48 C Created: 
	     49 C 
	     50 C	 6-JAN-1995    J.PAQUETTE
	     51 C 
	     52 C Revised:
	     53 C 
	     54 C  17-JAN-1995   L. Bleau   changed name from DISSECT_PHA to
	     55 C                           WIND_DISSECT_MASS_PHA since is specific to MASS
	     56 C                           sensor
	     57 C 

WIND_DISSECT_MASS_PHA                                           21-APR-1995 16:14:55    DEC Fortran V6.2-508                Page   2
                                                                26-JAN-1995 17:57:16    WIND_DISSECT_MASS_PHA.FOR;2

	     58 C-
	     59       INTEGER*4 SECTOR,RANGE,ANODE,TIME_OF_FLIGHT
	     60       INTEGER*4 ITEMP
	     61       BYTE PHA(2)
	     62 C
	     63       SECTOR = 0
	     64       ITEMP = PHA(1)
	     65       CALL MVBITS( ITEMP, 7, 1, SECTOR, 0 )
	     66 C
	     67       RANGE = 0
	     68       CALL MVBITS( ITEMP, 6, 1, RANGE, 0 )
	     69 C
	     70       ANODE = 0
	     71       CALL MVBITS( ITEMP, 4, 2, ANODE, 0 )
	     72 C
	     73       TIME_OF_FLIGHT = ISHFT( IAND( ITEMP, 15 ), 8 )
	     74       ITEMP = PHA(2)
	     75       TIME_OF_FLIGHT = TIME_OF_FLIGHT + IAND( ITEMP, 255 )
	     76 C
	     77       RETURN
	     78       END


PROGRAM SECTIONS

    Name				 Bytes   Attributes

  1 $CODE$                                 276   PIC CON REL LCL   SHR   EXE NORD NOWRT OCTA
  2 $LINK$                                  96 NOPIC CON REL LCL NOSHR NOEXE   RD NOWRT OCTA

    Total Space Allocated                  372


ENTRY POINTS

    Address   Type  Name                 
                                         
  1-00000000        WIND_DISSECT_MASS_PHA


VARIABLES

    Address   Type  Name               Address   Type  Name               Address   Type  Name          
                                                                                                        
      **      I*4   ANODE                **      I*4   RANGE                **      I*4   TIME_OF_FLIGHT
  0-00000020# I*4   ITEMP                **      I*4   SECTOR                                           



WIND_DISSECT_MASS_PHA                                           21-APR-1995 16:14:55    DEC Fortran V6.2-508                Page   3
                                Symbol Table                    26-JAN-1995 17:57:16    WIND_DISSECT_MASS_PHA.FOR;2

ARRAYS

     Address  Type  Name        Bytes  Dimensions

      **      I*1   PHA             2  (2)


WIND_DISSECT_MASS_PHA                                           21-APR-1995 16:14:55    DEC Fortran V6.2-508                Page   4
                                Symbol Table                    26-JAN-1995 17:57:16    WIND_DISSECT_MASS_PHA.FOR;2



  +---------------------------------------------------+
  |               KEY TO ADDRESS CODE FORMATS         |
  |   ppp-oooooooo  - In Psect ppp, Offset oooooooo   |
  |   ***-********  - External                        |
  |               # - Suffix: Also In Registers       |
  |   REG-rrrrrrrr  - In Register rrrrrrrr            |
  |   REG-########  - In Various Registers            |
  |        **       - Not Used; Not Allocated         |
  +---------------------------------------------------+


COMMAND QUALIFIERS

  /ALIGNMENT=(COMMONS=(PACKED,NOMULTILANGUAGE),RECORDS=PACKED)
  /ASSUME=(ACCURACY_SENSITIVE,BACKSLASH,NODUMMY_ALIASES,NOUNDERSCORE)
  /CHECK=(ASSERTIONS,BOUNDS,FORMAT,FP_EXCEPTIONS,OVERFLOW,ÿÿÿ°&¶
  /DEBUG=(NOSYMBOLS,TRACEBACK)
  /DESIGN=(NOCOMMENTS)
  /SHOW=(DICTIONARY,INCLUDE,MAP,PREPROCESSOR)
  /STANDARD=(NOSEMANTIC,NOSOURCE_FORM,NOSYNTAX)
  /WARNINGS=(NOALIGNMENT,NOARGUMENT_CHECKING,DECLARATIONS,GENERAL,NOTRUNCATED_SOURCE,UNCALLED,
             UNINITIALIZED,UNREACHABLE,UNUSED)
  /NOAUTOMATIC  /BLAS=NOMAPPED  /CONVERT=NATIVE  /NOCROSS_REFERENCE  /NOD_LINES  /ERROR_LIMIT=30  /EXTEND_SOURCE
  /NOPAD_SOURCE  /NOF77  /FLOAT=G_FLOAT  /IEEE_MODE=FAST  /ROUNDING_MODE=NEAREST
  /GRANULARITY=QUADWORD  /INSTRUCTION_SET=FLOATING  /INTEGER_SIZE=32  /NOMACHINE_CODE
  /MATH_LIBRARY=ACCURATE  /NAMES=UPPERCASE  /OPTIMIZE=(LEVEL=4,UNROLL=0)  /REAL_SIZE=32  /NORECURSIVE
  /NOSEPARATE_COMPILATION  /NOSYNCHRONOUS_EXCEPTIONS  /NOSYNTAX_ONLY  /TERMINAL=NOSTATISTICS  /NOTIE  /VMS
  /NOANALYSIS_DATA
  /NODIAGNOSTICS
  /INCLUDE=(.FOR,.f,FORT$INCLUDE:.FOR,FORT$INCLUDE:.f)
  /LIST=SMS1:[WIND.SOFTWARE.L1]WIND_DISSECT_MASS_PHA.LIS;12
  /OBJECT=SMS1:[WIND.SOFTWARE.L1]WIND_DISSECT_MASS_PHA.OBJ;12
  /NOLIBRARY
   sys$lib=SYS$COMMON:[SYSLIB]FORSYSDEF.TLB;1

COMPILER: DEC Fortran V6.2-508-274F

COMPILATION STATISTICS

  CPU time:          0.17 seconds
  Elapsed time:      1.85 seconds
  Pagefaults:         124
  I/O Count:           10
